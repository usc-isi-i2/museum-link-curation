<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Link Verification - Profile</title>
    <link rel='icon' href='/static/images/favicon.ico' type='image/x-icon'/>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="static/images/main.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
    <script>
        $(document).ready(function () {
            loadProfile();
        });

        function loadProfile(){

            var sv_profile = '{{server}}'.concat("/v1/user");

            $.ajax({
                    method: 'GET',
                    url: sv_profile,
                    contentType: 'application/json',
                    success: function(data){
                        console.log(data.tags)
                        for(i = 0; i < data.tags.length; i++) {
                            console.log(data.tags[i])
                            $('#'+data.tags[i]).prop('checked', true);
                        }
                    }
                });
        }

        function makeSearch(){
            var tag_list = [];
            tag_list.push($('input[name="museums"]:checked').map(
                function () {return this.value;}).get());
            var userObj = new Object();
            userObj.tags = tag_list[0];
            json_data = JSON.stringify(userObj);

            var sv = '{{server}}'.concat("/v1/user");
                $.ajax({
                    method: 'PUT',
                    url: sv,
                    data: json_data,
                    contentType: 'application/json',
                    success: function(data){
                        console.log("Tag Successfully submitted");
                        window.location.href = "/curation";
                    }
                });


        }
    </script>
    <div style = "width:100%; height:100vh;">
    <div id = "header"> {% include 'header_search.html' %}</div>

    <br/>
    <label style = 'white-space: pre;'>    Please select all the museums that you would like to curate data for - </label>
    <br/><br/>
     <div class="container">
        <div style="width: 30em; float: left;">
            <input id="autry" type="checkbox" name="museums" value="autry" />
                <label for="Autry">Autry Museum of the American West</label><br/>
            <input id="npg" type="checkbox" name="museums" value="npg" />
                <label for="NPG">National Portrait Gallery</label><br/>
            <!-- <input id="puam" type="checkbox" name="museums" value="puam" />
                <label for="PUAM">Princeton University Art Museum</label><br/>
            <input id="wam" type="checkbox" name="museums" value="wam" />
                <label for="WAM">The Walters Art Museum</label><br/>
            <input id="aaa" type="checkbox" name="museums" value="aaa" />
                <label for="AAA">Archives of American Art</label><br/>
            <input id="cbm" type="checkbox" name="museums" value="cbm" />
                <label for="CBM">Crystal Bridges Museum</label><br/>
            <input id="aat" type="checkbox" name="museums" value="aat" />
                <label for="AAT">The Getty - Art and Architecture Thesaurus Online</label><br/>
            <input id="acm" type="checkbox" name="museums" value="acm" />
                <label for="ACM">Amon Carter Museum of American Art</label><br/> -->
        </div>

        <div style="width: 30em; float: left;">
            <!-- <input id="nmwa" type="checkbox" name="museums" value="nmwa" />
                <label for="NMWA">National Museum of Wildlife Art</label><br/>
            <input id="CCMA" type="checkbox" name="museums" value="CCMA" />
                <label for="CCMA">Colby College Museum of Art</label><br/>
            <input id="aac" type="checkbox" name="museums" value="aac" />
                <label for="AAC">Asian Arts Council</label><br/>
            <input id="gm" type="checkbox" name="museums" value="gm" />
                <label for="GM">Gilcrease Museum</label><br/>
            <input id="ima" type="checkbox" name="museums" value="ima" />
                <label for="IMA">Indianapolis Museum of Art</label><br/> -->
            <input id="ulan" type="checkbox" name="museums" value="ulan" />
                <label for="ULAN">The Getty Research Institute - Union List of Artist Names</label><br/>
            <input id="saam" type="checkbox" name="museums" value="saam" />
                <label for="SAAM">Smithsonian American Art Museum</label><br/>
            <!-- <input id="ycba" type="checkbox" name="museums" value="ycba" />
                <label for="YCBA">Yale Center for British Art</label><br/>
            <input id="dma" type="checkbox" name="museums" value="dma" />
                <label for="DMA">Dallas Museum of Art</label> -->
        </div>
    </div>
    <form name ="profile_tag_select" onsubmit="return makeSearch()">
        <button id = "save" type="submit" class="btn btn-primary btn-lg" style = "float: right; margin-right: 50%; margin-top: 10%">Save Changes</button>
    </form>
        </div>
</body>
</html>